# 아티클 <타입 시스템은 왜 증명처럼 동작하는가>

https://evan-moon.github.io/2026/01/25/types-as-proofs-typescript-hidden-math/

### 읽으며 메모

- 타입 시스템을 이해하는 것은 그 문법이 왜 그렇게 설계되었는지에 대한 본질을 이해하는 것
- 타입과 논리학의 대응 관계를 중심으로, 타입 검사기가 “통과”라고 말할 때 그것이 정확히 무엇을 의미하는지
- 타입스크립트를 처음 공부할 때, 타입 시스템은 집합이라고 배웠는데 그런 이야기인가? -> 더 넓은 차원의 이야기
- never 타입은 빈 주머니이고, unknown 타입은 세상 모든 것이 들어있는 주머니다.
- 이 글에서 “증명”이라는 표현은 “타입 규칙이 요구하는 계약을 충족한다” 정도로 이해하면 된다.
- 이 계약과 구조가 제대로 지켜지면 이제 우리는 함수의 동작 결과를 추론할 수 있게 된다.
- never는 거짓, 모순이기 때문이 그 다음에는 어떤 타입이 오든 논리적으로 틀린 것이 아닌 것이다.

### 'never 타입은 바닥 타입이다' 이해하기

핵심은 타입 계층(hierarchy) 구조를 먼저 이해하는 것입니다.

---

타입 계층 구조

          unknown  ← Top Type (모든 타입의 조상)
         /   |   \
     string  number  boolean ...
         \   |   /
          never    ← Bottom Type (모든 타입의 후예)

- Top Type (unknown) : 어떤 타입이든 unknown에 대입 가능
- Bottom Type (never) : never는 어떤 타입에든 대입 가능

---

서브타입(Subtype)이란?

A가 B의 서브타입이면 → A를 B 위치에 사용 가능

일반적인 예:

```ts
class Animal {}
class Cat extends Animal {} // Cat은 Animal의 서브타입

const a: Animal = new Cat(); // ✅ 가능 (Cat → Animal)
const c: Cat = new Animal(); // ❌ 불가 (Animal → Cat)
```

---

never는 모든 타입의 서브타입

같은 논리로, never는 모든 타입의 아래에 있으므로:

```ts
  const n: never = /* ... */;

  const a: string = n;  // ✅ 이론적으로 가능
  const b: number = n;  // ✅ 이론적으로 가능
  const c: boolean = n; // ✅ 이론적으로 가능
```

그냥 어떤 타입 자리에든 들어갈 수 있다는 뜻입니다.

---

실제로는 "빈 집합"

중요한 점: never 타입의 값은 실제로 존재하지 않습니다.

```ts
// ❌ never 타입의 값을 직접 만들 수 없음
const x: never = 'hello'; // 에러
const y: never = 42; // 에러
```

never는 **"값이 절대 올 수 없는 경우"**를 표현하는 타입입니다.

---

실제 사용되는 상황

```ts
// 1. 함수가 절대 반환하지 못하는 경우
function throwError(msg: string): never {
  throw new Error(msg);
}

// 2. switch의 exhaustive check (빠진 경우 감지)
type Shape = 'circle' | 'square';

function area(shape: Shape): number {
  switch (shape) {
    case 'circle':
      return 3.14;
    case 'square':
      return 4;
    default:
      // shape이 여기에 오면 타입이 never가 됨
      // → 모든 경우를 처리했다는 증명
      const _exhaustive: never = shape;
      return _exhaustive;
  }
}
```

---

한마디로 정리

| 개념                 | 뜻                                      |
| -------------------- | --------------------------------------- |
| Bottom Type          | 타입 계층에서 가장 아래                 |
| 모든 타입의 서브타입 | never를 어떤 타입 자리에든 넣을 수 있음 |
| 실제 값 존재 여부    | 없음 (빈 집합)                          |
| 주요 용도            | "이 코드 경로는 실행될 수 없다"는 표현  |

결국 원래 문장의 핵심은: never는 타입 계층의 최하위이기 때문에, 타입 체커
관점에서는 어떤 타입과도 양립 가능하다는 것입니다.

---

'합성과 변환' 부분 보다가 그만 둠.
함수형 프로그래밍 지식이 부족해서 이해하기 어려운데 긴 시간 투자해서 이해할만큼 지금 나한테 중요한 지식으로 느껴지지 않음

이 아티클의 의의: “타입 시스템이 왜 이렇게 동작하는지”를 충분히 이해한 상태에서
문제를 바라보고 있었나

라고 쓰신 분이 말씀하심.

저런 니즈가 있을 때 다시 찾아와서 마저 읽기
