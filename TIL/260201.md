# 260201 (일)

## 기차 예약 시스템 모의 과제 풀기

- 지난번에 일부 풀어봤을 때의 상황 복기
  - 지난번에 풀 때 '안에서 밖으로' 방식을 적용해보려고, 로직과 컴포넌트를 분리하지 않고 최대한 풀어서 썼다.
  - 그런데 적금계산기보다 요구사항이 복잡해서 그런지, 그렇게 하니 너무 복잡해져서 구현 속도가 붙질 않았다.
- 오늘 풀이 방식
  - 일단은 빠른 완성을 위해 평소 하던대로 로직과 컴포넌트를 묶어가면서 풀기로 했다. '안에서 밖으로'는 리팩터링 할 때 해보면 좋을 것 같다.
  - 어떤 상태가 필요하고, 의존 관계가 어떻게 되는지 노트에 한 번 정리하고 구현을 이어나갔다.
- 오늘처럼 하니 훨씬 깔끔하게 사고하면서 풀 수 있었다.
  - 지난번에 '나는 기본적인 form, search parameter 로직도 작성을 헤멘다'며 자책했는데 코드를 정리하면서 하니 어려움이 없었다. (그래도 나만의 설계 원칙과 구현 패턴을 제대로 확립할 필요는 있다.)

## 리뷰 스터디

- 이것도 어제 한 공유 스터디처럼 프리코스 스터디인데, 프리코스에서 집중했던 추상화를 집중적으로 다루기로 했다.
- 그래서 이번 주는 모의 과제를 풀며 생긴 고민을 공유해보기로 했다.
- 내가 공유한 고민
  1. 페이지 컴포넌트에서 각 탭의 구조를 노출시키는 것이 좋은가?
     - 나는 노출시키지 않는 게 좋다고 판단했다.
     - 이유: 페이지 컴포넌트에서는 최대한 뎁스 없이 UI와 1:1 매칭이 되는 코드가 보이면 좋다고 배웠다. 그래서 이 모의 과제에서도 2개의 탭의 내부 구조를 페이지에서 노출할 수 있으면 좋겠다고 생각했다. 하지만 그러기에는 각 탭의 관심사가 완전히 독립적이면서도 복잡해서 섞이면 좋지 않겠다고 생각했다.
     - 피드백: 이견 없었음.
  2. booking-tab의 예약현황 영역은 날짜선택기와 예약현황리스트로 이루어진 UI 구조를 노출하는 것이 좋은가, 그 둘을 묶어 추상화하는 것이 좋은가?
     - 현재는 UI 구조를 노출시켰다. 하지만 고민이 된다.
     - 이유: UI 구조를 노출시킴으로써 UI 1:1 매칭이 잘되어 예측가능성이 좋아진 것은 좋다. 하지만, 그럼으로써 둘만의 관심사인 selectedDate 상태가 tab 컴포넌트 본문에 위치하게 되었다. 이것이 과연 tab 컴포넌트의 관심사가 맞는지 잘 모르겠다.
     - 피드백: 지금이 좋은 것 같다. / 상태가 해당 영역에서만 쓰이면 그 안으로 숨기는 것이 좋은 것 같다.
       - 상반되는 두 의견이 있었는데, 이유에 대해 더 들어볼걸 그랬다.
  3. DateField 컴포넌트의 isControlled를 value prop이 undefined인지 판단해도 되는가? 이렇게 하면 컴포넌트 사용처에서 value의 빈 상태를 undefined로 사용하지 못하지 않나?
     - 피드백: 애초에 React에서 input의 값을 다룰 때 undefined를 취급하지 않는다. setValue(undefined)를 해도 기대한대로 값이 비워지질 않는다. 라이브러리에서도 보통 이런 식으로 구현해서 빈 값을 undefined로 관리하면 예상치 못한 상황을 많이 마주칠 것이다.
     - 인터넷에 이에 대한 토론이 많다는데, 궁금증이 10%는 해결이 안된 상태여서 그것들을 찾아보면 좋겠다.
- 뒤늦게 생각나서 공유하지 못한 고민 (공유 예정)
  - search parameter의 영향 범위는 전역인데, 사용처에 매우 지역적이어서 하위 뎁스에 관련 로직이 숨겨져 있다면 문제이지 않을까?
    - 상태를 search parameter로 관리한다는 것은 how이다보니 보통 추상화 하게 되기도 한다. 그래서 더더욱 찾고 싶은 search parameter가 어디서 관리되는지 열심히 찾아헤매게 될 것 같다.
    - 그래서 search parameter의 선언이 글로벌하게 관리되는 tanstack router가 좋은 것 같다.
    - 하지만 그 라이브러리를 쓰지 않을 때는?

## 모르는 것 알아보기

- 어제/오늘 input의 수많은 모르는 것 중 중요한 것들 몇 가지만 뽑아 알아본다.
- skills와 서브 에이전트
  - 서브 에이전트
    - https://code.claude.com/docs/ko/sub-agents
    - `서브에이전트는 다음을 도와줍니다:` -> React에서 컴포넌트 분리를 함으로써 얻는 이점과 비슷한 느낌
    - 이걸로 내 TIL 레포지토리 관리 에이전트를 만들어봐야겠다.
  - skills
    - 이것도 위 서브 에이전트 문서와 같은 위계에 소개돼있다. 이 위계에 있는 것들을 모두 대략적으로 알고 있어야 클로드를 잘 쓸 것 같다.
    - TIL 서브 에이전트 만들기 할 때 살펴보기

- 기차 예약 시스템 과제의 components/ui
  - shadcn으로 만들어진 코드였구나? 이거 모르고 논의에 참여해서 부끄럽다.
  - shadcn 예전부터 많이 들어서 알고있다 생각했는데 알고보니 문서를 찾아본 적이 없었고 모르는 거나 다름 없었다. 어떤 기술을 알게 되었을 때 문서에서 해결하고자 하는 문제(overview 같은 곳에 있음), get started는 꼭 훑어보는 습관의 중요성을 다시금 체감한다. 이런 부분에 있어 꼭 부지런해지자
